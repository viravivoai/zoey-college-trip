<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gibbons Family NC College Tour</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: 'Inter', -apple-system, sans-serif;
    background: #f8f9fa;
    color: #333;
    line-height: 1.6;
  }
  .header {
    background: #1a1a2e;
    padding: 48px 20px;
    text-align: center;
    color: #fff;
  }
  .header h1 { font-size: 32px; font-weight: 700; margin-bottom: 8px; }
  .header p { font-size: 18px; color: #a0a0b0; }
  .dates-badge {
    display: inline-block;
    background: #2d2d44;
    padding: 10px 20px;
    border-radius: 8px;
    margin-top: 16px;
    font-weight: 600;
    font-size: 16px;
    color: #fff;
  }
  .container { max-width: 900px; margin: 0 auto; padding: 32px 20px; }
  .card {
    background: #fff;
    border-radius: 12px;
    padding: 28px;
    margin-bottom: 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.06);
    border: 1px solid #e8e8e8;
  }
  .card-title {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 20px;
    color: #1a1a2e;
    display: flex;
    align-items: center;
    gap: 10px;
  }
  .card-title .emoji { font-size: 24px; }
  
  /* Map */
  #map {
    height: 400px;
    border-radius: 10px;
    margin-bottom: 16px;
    border: 1px solid #e0e0e0;
  }
  .map-instruction {
    text-align: center;
    color: #666;
    font-size: 14px;
    margin-bottom: 16px;
  }
  .leaflet-popup-content-wrapper { border-radius: 10px; padding: 0; }
  .leaflet-popup-content { margin: 0; min-width: 280px; }
  .popup-card { padding: 16px; }
  .popup-card .school-name { font-size: 18px; font-weight: 700; margin-bottom: 4px; color: #1a1a2e; }
  .popup-card .school-location { color: #666; font-size: 13px; margin-bottom: 10px; }
  .popup-card .school-stats { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 10px; }
  .popup-card .stat-pill { background: #f0f0f0; padding: 3px 8px; border-radius: 4px; font-size: 11px; color: #555; }
  .popup-card .tour-info { font-size: 13px; color: #444; margin-bottom: 10px; line-height: 1.5; }
  .popup-card .tour-link {
    display: inline-block;
    padding: 8px 14px;
    background: #1a1a2e;
    color: #fff;
    text-decoration: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
  }
  .route-marker {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 28px;
    height: 28px;
    background: #1a1a2e;
    color: #fff;
    border-radius: 50%;
    font-weight: 700;
    font-size: 14px;
    border: 3px solid #fff;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
  }
  .school-label {
    background: #fff;
    border: none;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
    padding: 6px 10px;
    font-size: 13px;
    font-weight: 600;
    color: #1a1a2e;
    border-radius: 6px;
  }
  .school-label::before { border-right-color: #fff; }
  .tour-link {
    display: inline-block;
    margin-top: 10px;
    padding: 8px 14px;
    background: #1a1a2e;
    color: #fff;
    text-decoration: none;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 600;
  }
  .tour-link:hover { background: #2d2d44; }
  
  /* Flights */
  .flight-section { margin-bottom: 24px; }
  .flight-section h4 {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 12px;
    color: #1a1a2e;
  }
  .flights-table { width: 100%; border-collapse: collapse; font-size: 14px; }
  .flights-table th {
    text-align: left;
    padding: 10px 12px;
    background: #f8f9fa;
    font-weight: 600;
    color: #1a1a2e;
    border-bottom: 2px solid #e0e0e0;
  }
  .flights-table td { padding: 10px 12px; border-bottom: 1px solid #e8e8e8; }
  .flights-table tr:hover { background: #fafafa; }
  .flights-table .airline { font-weight: 600; }
  .flights-table .price { font-weight: 700; color: #1a1a2e; }
  .flights-table .recommended { background: #f0fdf4; }
  .flights-table .recommended td:first-child::before { content: "‚≠ê "; }
  .badge-nonstop {
    display: inline-block;
    background: #dcfce7;
    color: #166534;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
  }
  .badge-stop {
    display: inline-block;
    background: #fef3c7;
    color: #92400e;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
  }
  .flight-totals {
    background: #f8f9fa;
    border-radius: 8px;
    padding: 16px;
    margin-top: 16px;
  }
  .flight-totals h4 { font-size: 14px; font-weight: 600; margin-bottom: 10px; color: #1a1a2e; }
  .flight-totals ul { list-style: none; font-size: 14px; }
  .flight-totals li { padding: 4px 0; }
  .flight-totals .total-price { font-weight: 700; }
  
  /* Itinerary */
  .day { display: flex; gap: 20px; margin-bottom: 24px; }
  .day-badge { width: 100px; flex-shrink: 0; text-align: center; }
  .day-num {
    background: #1a1a2e;
    color: #fff;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: 700;
    margin: 0 auto 6px;
  }
  .day-date { font-size: 13px; color: #666; }
  .day-content {
    flex: 1;
    background: #f8f9fa;
    border-radius: 10px;
    padding: 20px;
    border: 1px solid #e8e8e8;
  }
  .day-title { font-size: 16px; font-weight: 700; margin-bottom: 12px; color: #1a1a2e; }
  .event {
    background: #fff;
    padding: 12px;
    border-radius: 8px;
    margin-bottom: 8px;
    display: flex;
    gap: 12px;
    align-items: flex-start;
    border: 1px solid #e8e8e8;
  }
  .event:last-child { margin-bottom: 0; }
  .event-time {
    background: #1a1a2e;
    color: #fff;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    white-space: nowrap;
  }
  .event-desc { flex: 1; }
  .event-title { font-weight: 600; margin-bottom: 2px; font-size: 14px; }
  .event-note { font-size: 13px; color: #666; }
  
  /* Hotels */
  .hotels-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; }
  .hotel-card { background: #f8f9fa; border-radius: 10px; padding: 20px; border: 1px solid #e0e0e0; }
  .hotel-name { font-size: 16px; font-weight: 700; margin-bottom: 4px; color: #1a1a2e; }
  .hotel-location { font-size: 14px; color: #666; margin-bottom: 12px; }
  .hotel-why { background: #fff; padding: 12px; border-radius: 8px; font-size: 14px; border: 1px solid #e8e8e8; }
  
  /* Tips */
  .tips-list { list-style: none; }
  .tips-list li {
    background: #f8f9fa;
    padding: 14px;
    border-radius: 8px;
    margin-bottom: 10px;
    display: flex;
    gap: 12px;
    align-items: flex-start;
    border: 1px solid #e8e8e8;
  }
  .tips-list li:last-child { margin-bottom: 0; }
  .tip-emoji { font-size: 20px; flex-shrink: 0; }
  .tip-text { font-size: 14px; }
  .tip-text strong { color: #1a1a2e; }
  
  /* CTA */
  .cta-box {
    background: #1a1a2e;
    border-radius: 10px;
    padding: 28px;
    text-align: center;
    color: #fff;
  }
  .cta-box h3 { font-size: 20px; margin-bottom: 8px; }
  .cta-box p { color: #a0a0b0; margin-bottom: 20px; font-size: 14px; }
  .cta-links { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
  .cta-links a {
    background: #fff;
    color: #1a1a2e;
    padding: 10px 18px;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 600;
    font-size: 14px;
  }
  .cta-links a:hover { background: #f0f0f0; }
  
  .distance-note {
    background: #fffbeb;
    border-left: 3px solid #f59e0b;
    padding: 14px;
    border-radius: 0 8px 8px 0;
    font-size: 14px;
  }
  .distance-note strong { color: #92400e; }
  .footer { text-align: center; padding: 32px; color: #888; font-size: 14px; }
  a { color: #1a1a2e; }
  .note { margin-top: 16px; color: #666; font-size: 14px; }
  .note a { color: #1a1a2e; }
  
  @media (max-width: 600px) {
    .day { flex-direction: column; gap: 12px; }
    .day-badge { width: auto; display: flex; align-items: center; gap: 12px; }
    .day-num { margin: 0; }
    .flights-table { font-size: 12px; }
    .flights-table th, .flights-table td { padding: 8px; }
  }
</style>
</head>
<body>

<div class="header">
  <h1>The Gibbons Family NC College Tour</h1>
  <p>Miles, Melinda & Zoey visit Wake Forest ‚Ä¢ Elon ‚Ä¢ UNC Chapel Hill</p>
  <div class="dates-badge">‚úàÔ∏è March 12‚Äì15, 2026</div>
</div>

<div class="container">

  <!-- Route Map -->
  <div class="card">
    <div class="card-title"><span class="emoji">üó∫Ô∏è</span> The Route</div>
    <p class="map-instruction">Click a marker to see details ‚Ä¢ Numbered stops show driving order</p>
    <div id="map"></div>
    <div class="distance-note">
      <strong>üöó Total Driving:</strong> RDU ‚Üí Wake Forest (1h 20m) ‚Üí Elon (50m) ‚Üí UNC (35m) ‚Üí RDU (25m) &nbsp;|&nbsp; ~3.5 hours total over 4 days
    </div>
  </div>

  <!-- Flight Options -->
  <div class="card">
    <div class="card-title"><span class="emoji">‚úàÔ∏è</span> Flights</div>
    
    <div class="flight-section">
      <h4>Outbound: LAX ‚Üí RDU (Wed, Mar 12)</h4>
      <table class="flights-table">
        <thead>
          <tr>
            <th>Airline</th>
            <th>Depart ‚Üí Arrive</th>
            <th>Duration</th>
            <th>Stops</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>
          <tr class="recommended">
            <td class="airline">American</td>
            <td>9:41a ‚Üí 5:26p</td>
            <td>4h 45m</td>
            <td><span class="badge-nonstop">Nonstop</span></td>
            <td class="price">$441</td>
          </tr>
          <tr>
            <td class="airline">Delta</td>
            <td>8:35a ‚Üí 4:15p</td>
            <td>4h 40m</td>
            <td><span class="badge-nonstop">Nonstop</span></td>
            <td class="price">$547</td>
          </tr>
          <tr>
            <td class="airline">Southwest</td>
            <td>1:25p ‚Üí 10:25p</td>
            <td>6h 0m</td>
            <td><span class="badge-stop">1 stop</span></td>
            <td class="price">$391</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="flight-section">
      <h4>Return: RDU ‚Üí LAX (Sat, Mar 15) ‚Äî After 3 PM</h4>
      <table class="flights-table">
        <thead>
          <tr>
            <th>Airline</th>
            <th>Depart ‚Üí Arrive</th>
            <th>Duration</th>
            <th>Stops</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>
          <tr class="recommended">
            <td class="airline">Delta</td>
            <td>5:15p ‚Üí 7:56p</td>
            <td>5h 41m</td>
            <td><span class="badge-nonstop">Nonstop</span></td>
            <td class="price">$548</td>
          </tr>
          <tr>
            <td class="airline">American</td>
            <td>6:27p ‚Üí 9:16p</td>
            <td>5h 49m</td>
            <td><span class="badge-nonstop">Nonstop</span></td>
            <td class="price">$517</td>
          </tr>
          <tr>
            <td class="airline">American</td>
            <td>3:47p ‚Üí 8:48p</td>
            <td>8h 1m</td>
            <td><span class="badge-stop">1 stop</span></td>
            <td class="price">$527</td>
          </tr>
          <tr>
            <td class="airline">Southwest</td>
            <td>5:40p ‚Üí 11:40p</td>
            <td>9h 0m</td>
            <td><span class="badge-stop">1 stop</span></td>
            <td class="price">$424</td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <div class="flight-totals">
      <h4>Estimated Total for 3 Passengers:</h4>
      <ul>
        <li>‚≠ê American out + Delta return (both nonstop): <span class="total-price">~$2,967</span></li>
        <li>Delta both ways (nonstop): <span class="total-price">~$3,285</span></li>
        <li>Southwest both ways (1 stop): <span class="total-price">~$2,445</span></li>
      </ul>
    </div>
    
    <p class="note">üí° Prices as of Feb 3, 2026. <a href="https://www.google.com/travel/flights?q=flights%20from%20LAX%20to%20RDU%20March%2012%202026%20return%20March%2015%202026" target="_blank">Search on Google Flights ‚Üí</a></p>
  </div>

  <!-- Suggested Itinerary -->
  <div class="card">
    <div class="card-title"><span class="emoji">üìÖ</span> Suggested Itinerary</div>

    <div class="day">
      <div class="day-badge">
        <div class="day-num">1</div>
        <div class="day-date">Wed 3/12</div>
      </div>
      <div class="day-content">
        <div class="day-title">Travel Day + Winston-Salem</div>
        <div class="event">
          <div class="event-time">9:41 AM</div>
          <div class="event-desc">
            <div class="event-title">Depart LAX (American)</div>
            <div class="event-note">Nonstop to RDU, arrive 5:26 PM local</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">6:00 PM</div>
          <div class="event-desc">
            <div class="event-title">Pick up rental car at RDU</div>
            <div class="event-note">Drive to Winston-Salem (~1 hr 20 min)</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">7:30 PM</div>
          <div class="event-desc">
            <div class="event-title">Arrive Winston-Salem</div>
            <div class="event-note">Check into hotel, grab dinner downtown</div>
          </div>
        </div>
      </div>
    </div>

    <div class="day">
      <div class="day-badge">
        <div class="day-num">2</div>
        <div class="day-date">Thu 3/13</div>
      </div>
      <div class="day-content">
        <div class="day-title">Wake Forest + Elon</div>
        <div class="event">
          <div class="event-time">9:00 AM</div>
          <div class="event-desc">
            <div class="event-title">Wake Forest Info Session</div>
            <div class="event-note">Porter Byrum Welcome Center</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">10:00 AM</div>
          <div class="event-desc">
            <div class="event-title">Wake Forest Campus Tour</div>
            <div class="event-note">90-min student-led walking tour</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">12:00 PM</div>
          <div class="event-desc">
            <div class="event-title">Lunch in Winston-Salem</div>
            <div class="event-note">Camino Bakery, Sweet Potatoes, or quick spot</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">1:30 PM</div>
          <div class="event-desc">
            <div class="event-title">Drive to Elon</div>
            <div class="event-note">~50 min drive</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">2:30 PM</div>
          <div class="event-desc">
            <div class="event-title">Elon Campus Tour</div>
            <div class="event-note">Info session + walking tour (~2 hours)</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">5:00 PM</div>
          <div class="event-desc">
            <div class="event-title">Drive to Chapel Hill</div>
            <div class="event-note">~35 min. Check into hotel, explore Franklin Street</div>
          </div>
        </div>
      </div>
    </div>

    <div class="day">
      <div class="day-badge">
        <div class="day-num">3</div>
        <div class="day-date">Fri 3/14</div>
      </div>
      <div class="day-content">
        <div class="day-title">UNC Chapel Hill + Explore</div>
        <div class="event">
          <div class="event-time">10:00 AM</div>
          <div class="event-desc">
            <div class="event-title">UNC Chapel Hill Campus Visit</div>
            <div class="event-note">Welcome session, student panel, campus tour (~2 hours)</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">12:30 PM</div>
          <div class="event-desc">
            <div class="event-title">Lunch on Franklin Street</div>
            <div class="event-note">The main drag ‚Äî restaurants, shops, college town vibes</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">Afternoon</div>
          <div class="event-desc">
            <div class="event-title">Free Time</div>
            <div class="event-note">Explore campus, student union, coffee shops</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">Evening</div>
          <div class="event-desc">
            <div class="event-title">Dinner + Trip Debrief</div>
            <div class="event-note">Talk through impressions of all three schools</div>
          </div>
        </div>
      </div>
    </div>

    <div class="day">
      <div class="day-badge">
        <div class="day-num">4</div>
        <div class="day-date">Sat 3/15</div>
      </div>
      <div class="day-content">
        <div class="day-title">Return Home</div>
        <div class="event">
          <div class="event-time">Morning</div>
          <div class="event-desc">
            <div class="event-title">Sleep in / Pack up</div>
            <div class="event-note">Leisurely morning, grab breakfast</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">2:30 PM</div>
          <div class="event-desc">
            <div class="event-title">Drive to RDU</div>
            <div class="event-note">~25 min from Chapel Hill. Return rental car.</div>
          </div>
        </div>
        <div class="event">
          <div class="event-time">5:15 PM</div>
          <div class="event-desc">
            <div class="event-title">Depart RDU (Delta)</div>
            <div class="event-note">Nonstop to LAX, arrive 7:56 PM PST</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Hotels -->
  <div class="card">
    <div class="card-title"><span class="emoji">üè®</span> Hotel Suggestions</div>
    <div class="hotels-grid">
      <div class="hotel-card">
        <div class="hotel-name">Night 1: Winston-Salem</div>
        <div class="hotel-location">üìç Near Wake Forest / Downtown</div>
        <div class="hotel-why">
          <strong>Options:</strong><br>
          ‚Ä¢ Kimpton Cardinal ‚Äî Boutique, walkable downtown<br>
          ‚Ä¢ Embassy Suites ‚Äî Near campus, breakfast included<br>
          ‚Ä¢ Marriott Winston-Salem ‚Äî Reliable, good location
        </div>
      </div>
      <div class="hotel-card">
        <div class="hotel-name">Nights 2‚Äì3: Chapel Hill</div>
        <div class="hotel-location">üìç Near UNC / Franklin Street</div>
        <div class="hotel-why">
          <strong>Options:</strong><br>
          ‚Ä¢ The Carolina Inn ‚Äî Historic, ON campus ‚≠ê<br>
          ‚Ä¢ Hampton Inn Chapel Hill ‚Äî Close to Franklin St<br>
          ‚Ä¢ Aloft Chapel Hill ‚Äî Modern, walkable
        </div>
      </div>
    </div>
    <p class="note">üí° The Carolina Inn is on UNC's campus ‚Äî great for the full college experience. Book early!</p>
  </div>

  <!-- Tips -->
  <div class="card">
    <div class="card-title"><span class="emoji">üí°</span> Pro Tips</div>
    <ul class="tips-list">
      <li>
        <span class="tip-emoji">üì∏</span>
        <span class="tip-text"><strong>Take photos & notes!</strong> After 3 schools, details blur together. Capture what stands out.</span>
      </li>
      <li>
        <span class="tip-emoji">üëü</span>
        <span class="tip-text"><strong>Wear comfy shoes.</strong> Each tour is 1.5‚Äì2 hours on foot.</span>
      </li>
      <li>
        <span class="tip-emoji">‚ùì</span>
        <span class="tip-text"><strong>Prepare questions.</strong> Class size? Research? Greek life? Study abroad? Have questions ready.</span>
      </li>
      <li>
        <span class="tip-emoji">üå¶Ô∏è</span>
        <span class="tip-text"><strong>Check the weather.</strong> March in NC: 50s‚Äì70s. Pack layers and a light rain jacket.</span>
      </li>
      <li>
        <span class="tip-emoji">üéí</span>
        <span class="tip-text"><strong>Visit the bookstore.</strong> Grab some gear and see school spirit!</span>
      </li>
    </ul>
  </div>

  <!-- Action Items -->
  <div class="card">
    <div class="cta-box">
      <h3>üìã Next Steps</h3>
      <p>Book these ASAP ‚Äî tour spots fill up fast!</p>
      <div class="cta-links">
        <a href="https://apply.admissions.wfu.edu/portal/campustours" target="_blank">Wake Forest</a>
        <a href="https://admissions.elon.edu/portal/campus-visit" target="_blank">Elon</a>
        <a href="https://mycarolina.unc.edu/portal/visit" target="_blank">UNC</a>
        <a href="https://www.google.com/travel/flights?q=flights%20from%20LAX%20to%20RDU%20March%2012%202026%20return%20March%2015%202026" target="_blank">Book Flights</a>
      </div>
    </div>
  </div>

</div>

<div class="footer">
  Made with ‚ù§Ô∏è for the Gibbons family college adventure<br>
  <small>Last updated: February 2026</small>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
// Route stops in order
const stops = [
  {
    num: 1,
    name: "RDU Airport",
    coords: [35.8776, -78.7875],
    type: "airport",
    info: "Arrive Wed 5:26 PM, Depart Sat 5:15 PM"
  },
  {
    num: 2,
    name: "Wake Forest University",
    coords: [36.1339, -80.2769],
    type: "school",
    color: "#9E7E38",
    location: "Winston-Salem, NC",
    stats: ["~5,500 undergrads", "Top 30 National", "340 acres"],
    tour: "90-minute student-led walking tour. Info sessions available on select dates.",
    link: "https://apply.admissions.wfu.edu/portal/campustours"
  },
  {
    num: 3,
    name: "Elon University",
    coords: [36.1027, -79.5032],
    type: "school",
    color: "#6F263D",
    location: "Elon, NC",
    stats: ["~6,300 undergrads", "#1 Study Abroad", "636 acres"],
    tour: "30-min info session + 1.5 hour walking tour. Total ~2 hours.",
    link: "https://admissions.elon.edu/portal/campus-visit"
  },
  {
    num: 4,
    name: "UNC Chapel Hill",
    coords: [35.9049, -79.0469],
    type: "school",
    color: "#4B9CD3",
    location: "Chapel Hill, NC",
    stats: ["~20,000 undergrads", "#1 Public University", "729 acres"],
    tour: "2-hour experience with welcome session, student panel, and campus tour.",
    link: "https://mycarolina.unc.edu/portal/visit"
  }
];

// Initialize map
const map = L.map('map').setView([35.95, -79.5], 8);

L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
  attribution: '&copy; OpenStreetMap, &copy; CartoDB',
  maxZoom: 19
}).addTo(map);

// Draw route line
const routeCoords = stops.map(s => s.coords);
// Add return to airport
routeCoords.push(stops[0].coords);

L.polyline(routeCoords, {
  color: '#1a1a2e',
  weight: 3,
  opacity: 0.6,
  dashArray: '10, 10'
}).addTo(map);

// Add markers
stops.forEach(stop => {
  const bgColor = stop.type === 'airport' ? '#1a1a2e' : stop.color;
  
  const icon = L.divIcon({
    className: 'route-marker-container',
    html: `<div class="route-marker" style="background:${bgColor};">${stop.num}</div>`,
    iconSize: [28, 28],
    iconAnchor: [14, 14],
    popupAnchor: [0, -14]
  });
  
  let popupContent;
  if (stop.type === 'airport') {
    popupContent = `
      <div class="popup-card">
        <div class="school-name">‚úàÔ∏è ${stop.name}</div>
        <div class="tour-info">${stop.info}</div>
      </div>
    `;
  } else {
    popupContent = `
      <div class="popup-card">
        <div class="school-name">${stop.name}</div>
        <div class="school-location">üìç ${stop.location}</div>
        <div class="school-stats">
          ${stop.stats.map(s => `<span class="stat-pill">${s}</span>`).join('')}
        </div>
        <div class="tour-info"><strong>Tour:</strong> ${stop.tour}</div>
        <a href="${stop.link}" target="_blank" class="tour-link">Book Tour ‚Üí</a>
      </div>
    `;
  }
  
  const marker = L.marker(stop.coords, { icon })
    .addTo(map)
    .bindPopup(popupContent, { maxWidth: 300 });
  
  // Add label
  marker.bindTooltip(stop.name, { 
    permanent: true, 
    direction: 'right', 
    offset: [14, 0],
    className: 'school-label'
  });
});

// Fit bounds
const bounds = L.latLngBounds(stops.map(s => s.coords));
map.fitBounds(bounds, { padding: [40, 40] });
</script>

</body>
</html>
